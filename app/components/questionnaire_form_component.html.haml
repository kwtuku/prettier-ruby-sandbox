= simple_form_for [:users, @questionnaire] do |f|
  - if @questionnaire.errors.any?
    %div
      %h2
        = f.error_notification
      %ul
        - @questionnaire.errors.full_messages.each do |message|
          -# rubocop:disable Style/HashSyntax
          %li= f.error_notification message: message
          -# rubocop:enable Style/HashSyntax
  = f.input :title, wrapper_html: { class: 'mb-6' }, label_html: { class: "form-label" }, input_html: { class: "form-control" }
  = f.input :description, wrapper_html: { class: 'mb-6' }, label_html: { class: "form-label" }, input_html: { class: "form-control" }
  = f.input :level, collection: @level_options, as: :radio_buttons
  = f.input :visibility, collection: @visibility_options, include_blank: false, prompt: true, wrapper_html: { class: 'mb-6' }, label_html: { class: "form-label" }, input_html: { class: "form-select" }
  = f.input :agreed, boolean_style: :inline, wrapper_html: { class: 'form-check' }, label_html: { class: "form-check-label" }, input_html: { class: "form-check-input" }
  = f.input :comfortable, as: :radio_buttons
  = f.input :expire_on, html5: true
  = f.input :start_at, html5: true
  = f.input :end_at, html5: true
  .field{data: { controller: "fields-for" }}
    = f.label :labelings
    = f.simple_fields_for :labelings do |cf|
      = render QuestionnaireLabelingFormComponent.new(cf:)
      - if cf.index == (f.object.labelings.length - 1)
        %template{data: { fields_for_target: "template" }}
          = render QuestionnaireLabelingFormComponent.new(cf:)
    %button{type: "button", data: { action: "fields-for#add" }} 入力欄を追加
  = f.submit
